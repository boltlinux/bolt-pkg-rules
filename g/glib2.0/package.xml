<?xml version="1.0" encoding="utf-8"?>
<control xmlns:xi="http://www.w3.org/2001/XInclude">
    <defines>
        <def name="BOLT_BUILD_DIR" value="build"/>
    </defines>

    <source name="glib2.0" architecture-independent="false">
        <description>
            <summary>GLib library of C routines</summary>
            <p>
            GLib is a library containing many useful C routines for things such
            as trees, hashes, lists, and strings. It is a useful general-purpose
            C library used by projects such as GTK+, GIMP, and GNOME.
            </p>
            <p>
            This package contains the shared libraries.
            </p>
        </description>

        <sources>
            <file src="glib2.0-2.50.3.tar.xz" subdir="sources"
                sha256sum="82ee94bf4c01459b6b00cb9db0545c2237921e3060c0b74cff13fbc020cfd999"/>
            <file src="debian.2.tar.gz" subdir="patches"
                sha256sum="9854c50e1fffc093e79a1c00b0783960300b1c1b09f2309db9d7ebe6b970a64f"/>
        </sources>
        
        <patches>
            <patchset subdir="sources">
                <file src="patches/01_gettext-desktopfiles.patch"/>
                <file src="patches/02_gettext-desktopfiles-ubuntu.patch"/>
                <file src="patches/03_disble_glib_compile_schemas_warning.patch"/>
                <file src="patches/04_homedir_env.patch"/>
                <file src="patches/06_thread_test_ignore_prctl_fail.patch"/>
                <file src="patches/07_disable_tests_on_slow_archs.patch"/>
                <file src="patches/61_glib-compile-binaries-path.patch"/>
                <file src="patches/90_gio-modules-multiarch-compat.patch"/>
                <file src="patches/skip-brokwn-dbus-appinfo-test.patch"/>
                <file src="patches/Do-not-attempt-to-autolaunch-a-session-dbus-daemon-w.patch"/>
                <file src="patches/81-skip-monitor-test-on-non-linux.patch"/>
                <file src="patches/0001-timer-test-use-volatile-for-locals.patch"/>
                <file src="patches/skip-broken-timer-test.patch"/>
                <file src="patches/0001-Fix-trashing-on-overlayfs.patch"/>
                <file src="patches/tests-gdatetime-Use-a-real-rather-than-invented-time.patch"/>
            </patchset>
        </patches>

        <requires>
            <package name="cdbs" version=">= 0.4.93"/>
            <package name="pkg-config" version=">= 0.16.0"/>
            <package name="gettext"/>
            <package name="autotools-dev"/>
            <package name="gnome-pkg-tools" version=">= 0.11"/>
            <package name="libelf-dev" version=">= 0.142"/>
            <package name="libmount-dev" version=">= 2.28"/>
            <package name="libpcre3-dev" version=">= 1:8.35"/>
            <package name="gtk-doc-tools" version=">= 1.20"/>
            <package name="libselinux1-dev"/>
            <package name="linux-libc-dev"/>
            <package name="libgamin-dev"/>
            <package name="zlib1g-dev"/>
            <package name="desktop-file-utils"/>
            <package name="dbus"/>
            <package name="shared-mime-info"/>
            <package name="tzdata"/>
            <package name="xterm"/>
            <package name="python3" version=">= 2.7.5-5~"/>
            <package name="python3-dbus"/>
            <package name="python3-gi"/>
            <package name="libxml2-utils"/>
            <package name="xsltproc"/>
            <package name="docbook-xml"/>
            <package name="docbook-xsl"/>
            <package name="libffi-dev" version=">= 3.0.0"/>
        </requires>

        <xi:include href="rules.xml"/>
    </source>

    <xi:include href="libglib2.0-0.xml"/>
    <xi:include href="libglib2.0-bin.xml"/>
    <xi:include href="libglib2.0-dev.xml"/>

    <xi:include href="changelog.xml"/>
</control>
