<?xml version="1.0" encoding="utf-8"?>
<control xmlns:xi="http://www.w3.org/2001/XInclude">
    <defines>
        <def name="BOLT_BUILD_DIR" value="build"/>
    </defines>

    <source name="busybox" architecture-independent="false">
        <description>
            <summary>Tiny utilities for small and embedded systems</summary>
            <p>
            BusyBox combines tiny versions of many common UNIX utilities into a single
            small executable. It provides minimalist replacements for the most common
            utilities you would usually find on your desktop system (i.e., ls, cp, mv,
            mount, tar, etc.). The utilities in BusyBox generally have fewer options than
            their full-featured GNU cousins; however, the options that are included
            provide the expected functionality and behave very much like their GNU
            counterparts.
            </p>
        </description>

        <sources>
            <file src="busybox-1.22.0.tar.bz2" subdir="sources"
                sha256sum="92f00cd391b7d5fa2215c8450abe2ba15f9d16c226e8855fb21b6c9a5b723a53"/>
            <file src="debian.19.tar.gz" subdir="patches"
                sha256sum="f0cd9e113f3281b9586d02eea1f42a822dd5f26a89acb0b58d84b898cbc1cdd4"/>
            <file src="bolt.1.tar.gz" subdir="patches"
                sha256sum="f0fd8c92102fb9d23aaf86f6ae47e5e39cf251d328396f1d846d4365597bb41a"/>
        </sources>

        <patches>
            <patchset subdir="sources">
                <!-- Debian -->
                <file src="patches/1.22.1.diff"/>
                <file src="patches/ash-in-bash-compat-mode-always-export-SHLVL.diff"/>
                <file src="patches/libbb-fix-parsing-of-10101010-datetime-form.diff"/>
                <file src="patches/testsuite-fix-last-which-change.diff"/>
                <file src="patches/libarchive-open_zipped-does-not-need-to-check-extensions.diff"/>
                <file src="patches/libbb-open_zipped-should-not-fail-on-non-compressed-files.diff"/>
                <file src="patches/zcat:-complain-if-input-is-not-compressed.diff"/>
                <file src="patches/lzop-add-overflow-check-CVE-2014-4607.patch"/>
                <file src="patches/do-not-fail-on-missing-SIGPWR.patch"/>
                <file src="patches/find:-support-perm-_BITS.diff"/>
                <file src="patches/shell-ash-export-HOME.patch"/>
                <file src="patches/version.patch"/>
                <file src="patches/init-console.patch"/>
                <file src="patches/u-mount-FreeBSD-support.patch"/>
                <file src="patches/swaponoff-FreeBSD-support.patch"/>
                <file src="patches/modprobe-read-modules-builtin.patch"/>
                <file src="patches/stop-checking-ancient-kernel-version.patch"/>
                <file src="patches/iproute-support-onelink-route-option-and-print-route-flags.patch"/>
                <file src="patches/update-deb-format-support.patch"/>
                <file src="patches/CVE-2014-9645.patch"/>
                <!-- Bolt OS -->
                <file src="patches/ifplugd-no-ethernet-h.patch"/>
                <file src="patches/no-getpwent-r.patch"/>
            </patchset>
        </patches>

        <requires>
            <package name="musl-libc-dev"/>
        </requires>

        <xi:include href="rules.xml"/>
    </source>

    <xi:include href="busybox.xml"/>

    <xi:include href="changelog.xml"/>
</control>
